@layer components {
  .popup {
    &-overlay {
      @apply fixed inset-0 bg-black bg-opacity-50 opacity-0 transition-opacity;

      &:not(&--sidebar) {
        @apply z-30 grid place-items-center px-6;
      }

      &--sidebar {
        @apply z-10;
      }

      &--after-open {
        @apply opacity-100;
      }

      &--before-close {
        @apply opacity-0;
      }

      &--before-close:not(&--sidebar) {
        @apply duration-300;
      }

      &--before-close&--sidebar {
        @apply duration-300 delay-700;
      }
    }

    &-content {
      @apply relative inline-block bg-white dark:bg-grey-darker overflow-hidden transform transition-transform;

      &:not(&--sidebar) {
        @apply max-h-full rounded-popup scale-90;
      }

      &--sidebar {
        @apply h-full md:rounded-r-sidebar translate-y-18 md:translate-y-20 lg:translate-y-0 -translate-x-full duration-500 delay-150;
      }

      &--after-open:not(&--sidebar) {
        @apply scale-100;
      }

      &--before-close:not(&--sidebar) {
        @apply scale-90 duration-300;
      }

      &--after-open&--sidebar {
        @apply translate-x-0;
      }

      &--before-close&--sidebar {
        @apply -translate-x-full duration-700;
      }
    }
  }
}
